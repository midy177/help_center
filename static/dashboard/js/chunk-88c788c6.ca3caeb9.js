(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-88c788c6"],{"3bc2":function(t,a,e){"use strict";e.r(a);var r=e("9955"),n=e("45a2"),o={components:{Mavon:r.a},data:function(){return{prefix:Object({NODE_ENV:"production",BASE_URL:"/dashboard/"}).VUE_APP_SRV+"/page/",draftLoading:!1,finishLoading:!1,langAll:[{key:1,value:"中文"},{key:2,value:"英文"},{key:3,value:"印尼"}],dataForm:{id:0,title:"",lang:1,path:"",kind:2,status:0,summary:"",cate_id:0,allow:!1,created:new Date,richtext:"",markdown:""},dataRules:{title:[{required:!0,message:" ",trigger:"blur"}],path:[{required:!0,message:" ",trigger:"blur"}]}}},methods:{onChange:function(t){this.dataForm.richtext=t},emitDraft:function(){var t=this;this.$refs.dataForm.validate((function(a){if(a){if(""==t.dataForm.richtext)return void t.$Message.warning("请填写内容");t.dataForm.status=1,t.draftLoading=!0,Object(n.a)(t.dataForm).then((function(a){t.draftLoading=!1,200==a.code?t.$Message.success({content:"修改成功",onClose:function(){t.init()}}):t.$Message.error({content:a.msg,duration:3})}))}}))},emitFinish:function(){var t=this;this.$refs.dataForm.validate((function(a){if(a){if(""==t.dataForm.richtext)return void t.$Message.warning("请填写内容");t.dataForm.status=2,t.finishLoading=!0,Object(n.a)(t.dataForm).then((function(a){t.finishLoading=!1,200==a.code?t.$Message.success({content:"修改成功",onClose:function(){t.init()}}):t.$Message.error({content:a.msg,duration:3})}))}}))}}},i=e("2877"),s=Object(i.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Card",{attrs:{"dis-hover":""}},[e("Row",{attrs:{gutter:2}},[e("Col",{attrs:{span:"20"}},[e("Form",{ref:"dataForm",attrs:{rules:t.dataRules,model:t.dataForm}},[e("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{prop:"title"}},[e("Input",{attrs:{placeholder:"请输入标题"},model:{value:t.dataForm.title,callback:function(a){t.$set(t.dataForm,"title",a)},expression:"dataForm.title"}})],1),e("FormItem",{staticStyle:{"margin-bottom":"15px"},attrs:{prop:"path"}},[e("Row",[e("Col",{staticStyle:{"min-width":"50%"},attrs:{span:"8"}},[e("Input",{attrs:{type:"text",placeholder:"同文章不同语言版本path需要一致,不同时前端路由会出错"},model:{value:t.dataForm.path,callback:function(a){t.$set(t.dataForm,"path",a)},expression:"dataForm.path"}})],1),e("Col",{staticStyle:{"min-width":"250px"},attrs:{span:"10"}},[e("Button",{attrs:{type:"info",loading:t.draftLoading},on:{click:t.emitDraft}},[e("Icon",{attrs:{type:"ios-trash",size:"20"}}),t._v("存草稿 ")],1),t._v("  "),e("Button",{attrs:{type:"warning",loading:t.finishLoading},on:{click:t.emitFinish}},[e("Icon",{attrs:{type:"ios-send",size:"20"}}),t._v("发 布 ")],1),e("Button",{staticStyle:{"margin-left":"10px"},attrs:{to:{name:"page-list"}}},[t._v("返回列表")])],1)],1)],1)],1),e("mavon",{on:{"on-change":t.onChange},model:{value:t.dataForm.markdown,callback:function(a){t.$set(t.dataForm,"markdown",a)},expression:"dataForm.markdown"}})],1),e("Col",{attrs:{span:"4"}},[e("Card",{attrs:{"dis-hover":"",bordered:!1}},[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{attrs:{type:"ios-settings-outline"}}),t._v(" 设置 ")],1),e("Form",{ref:"optsForm",attrs:{"label-position":"top"}},[e("FormItem",{attrs:{label:"语言"}},[e("RadioGroup",{model:{value:t.dataForm.lang,callback:function(a){t.$set(t.dataForm,"lang",a)},expression:"dataForm.lang"}},t._l(t.langAll,(function(a){return e("Radio",{key:a.key,attrs:{label:"cate",label:a.key}},[t._v("["+t._s(a.value)+"]")])})),1)],1),e("FormItem",{attrs:{label:"发布日期"}},[e("DatePicker",{attrs:{type:"datetime",placeholder:"选择发布日期和时间",clearable:!1,editable:!1},model:{value:t.dataForm.created,callback:function(a){t.$set(t.dataForm,"created",a)},expression:"dataForm.created"}})],1),e("br"),e("br")],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);a.default=s.exports},"45a2":function(t,a,e){"use strict";e.d(a,"d",(function(){return n})),e.d(a,"e",(function(){return o})),e.d(a,"a",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"b",(function(){return d}));var r=e("e1d2"),n=function(t){return r.a.request({url:"/api/page/get",method:"get",params:t})},o=function(t){return r.a.request({url:"/api/page/page",method:"get",params:t})},i=function(t){return r.a.request({url:"/adm/page/add",method:"post",data:t})},s=function(t){return r.a.request({url:"/adm/page/edit",method:"post",data:t})},d=function(t){return r.a.request({url:"/adm/page/drop",method:"post",data:t})}}}]);